rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ✅ Public read access (unchanged)
    match /{document=**} {
      allow read: if true;
    }

    // ✅ Admin-only write access
    match /{collectionId}/{documentId} {
      allow write: if request.auth != null
        && request.auth.token.email == 'kartikeypandey1804@gmail.com'
        && collectionId in [
          'about',
          'skills',
          'projects',
          'experience',
          'education',
          'roadmap',
          'achievements',
          'certificates',
          'resume',
          'socialLinks',
          'analytics',
          'scheduler',
          'testimonials',
          'settings',
          'hero',
          'feedback'
        ];
    }

    // ✅ Public contact form submissions (unchanged)
    match /contacts/{contactId} {
      allow write: if true;
    }
    
    // ✅ Public feedback form submissions
    match /feedback/{feedbackId} {
      allow write: if true;
    }
  }
}
