rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow public read access to all collections
    match /{document=**} {
      allow read: if true;
    }

    // Allow authenticated admins to write to all management collections
    match /{collectionId}/{documentId} {
      allow write: if request.auth != null
        && request.auth.token.email == 'kartikeypandey1804@gmail.com'
        && collectionId in ['about', 'skills', 'projects', 'experience', 'education', 'roadmap', 'achievements', 'certificates', 'resume', 'socialLinks', 'analytics', 'scheduler', 'testimonials', 'settings'];
    }
    
    // Allow public write access to contacts collection (for contact form)
    match /contacts/{contactId} {
      allow write: if true;
    }
  }
}
